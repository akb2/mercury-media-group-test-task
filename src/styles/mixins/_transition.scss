@use "sass:list";

$transition: 0.3s;

// Обычный TRANSITION
@mixin init($value, $important: false) {
  $important_str: "";
  @if ($important) {
    $important_str: "!important";
  }

  -webkit-transition: $value #{$important_str};
  -moz-transition: $value #{$important_str};
  -ms-transition: $value #{$important_str};
  -o-transition: $value #{$important_str};
  transition: $value #{$important_str};
}

// Много TRANSITION параметров
@mixin many($prop, $time: $transition, $easing: ease, $delay: 0s) {
  $temp_transition: ();

  @for $i from 1 through list.length($prop) {
    @for $j from 0 to (list.length($prop)) - (list.length($time)) {
      $time: list.join($time, list.nth($time, -1));
    }
    @for $j from 0 to (list.length($prop)) - (list.length($easing)) {
      $easing: list.join($easing, list.nth($easing, -1));
    }
    @for $j from 0 to (list.length($prop)) - (list.length($delay)) {
      $delay: list.join($delay, list.nth($delay, -1));
    }

    $temp_transition: list.append($temp_transition, (list.nth($prop, $i) list.nth($time, $i) list.nth($easing, $i) list.nth($delay, $i)), $separator: comma);
  }

  @include init($temp_transition);
}
