import './styles.scss';

import Offers from '../offers/scripts';
import Test from '../test/scripts';
import CallBack from '../callback/scripts';





//------------------------------------------------------------------------------------------------------------
// Данные
//------------------------------------------------------------------------------------------------------------


  const class_preloader = 'preloader';
  const class_preloader_elm = class_preloader + '__loader';
  const class_preloader_hidden = 'hidden';

  const id_preloader = 'main-preloader';
  const id_content = 'all-content';

  const preloader_hide_delay = 0;


//------------------------------------------------------------------------------------------------------------
// Данные
//------------------------------------------------------------------------------------------------------------





//------------------------------------------------------------------------------------------------------------
// События
//------------------------------------------------------------------------------------------------------------


  // Загрузка окна
  $( window ).off( 'load.render' );
  $( window ).on( 'load.render', function ( event ) {
    setTimeout ( function ( event ) {
      ReactDOM.render( <RenderPage />, $( '#' + id_content )[0] );
      hide_preloader ( event );
    }, ( preloader_hide_delay * 1000 ), event );
  });


//------------------------------------------------------------------------------------------------------------
// События
//------------------------------------------------------------------------------------------------------------





//------------------------------------------------------------------------------------------------------------
// Функции
//------------------------------------------------------------------------------------------------------------


  // Скрыть прелоадер
  export function hide_preloader ( event ) {
    const preloader = $( '#' + id_preloader )[0];

    if ( $( preloader ).length > 0 ) {
      if ( $( preloader ).hasClass( class_preloader )) {
        $( preloader ).addClass( class_preloader_hidden );
      }
    }
  }


//------------------------------------------------------------------------------------------------------------
// Функции
//------------------------------------------------------------------------------------------------------------





//------------------------------------------------------------------------------------------------------------
// Классы
//------------------------------------------------------------------------------------------------------------


  // Элемент списка
  class RenderPage extends React.Component {
    render () {
      return (
        <React.Fragment>
          <Offers />
          <Test />
          <CallBack />
        </React.Fragment>
      );
    }
  }


//------------------------------------------------------------------------------------------------------------
// Классы
//------------------------------------------------------------------------------------------------------------